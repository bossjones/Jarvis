<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
</head>
<body onload="body_onload()" onunload="body_onunload">
<object id="video" name="0" width="580" height="480" classid="clsid:91D47772-CF16-44B1-95C0-AE6C91284640" style="width: 640px; height: 480px;"></object>
<a id="left">LEFT</a> </br>
<a id="right">RIGHT</a> </br>
<a id="up">UP</a> </br>
<a id="down">DOWN</a> </br>
<script type="text/javascript">
var video = document.getElementById('video');
var PTZ_UP=0;
var PTZ_UP_STOP=1;
var PTZ_DOWN=2;
var PTZ_DOWN_STOP=3;
var PTZ_LEFT=4;
var PTZ_LEFT_STOP=5;
var PTZ_RIGHT=6;
var PTZ_RIGHT_STOP=7;
var PTZ_LEFT_UP=90;
var PTZ_RIGHT_UP=91;
var PTZ_LEFT_DOWN=92;
var PTZ_RIGHT_DOWN=93;
var PTZ_STOP=1;
var PTZ_CENTER=25; 
var PTZ_VPATROL=26;
var PTZ_VPATROL_STOP=27;
var PTZ_HPATROL=28;
var PTZ_HPATROL_STOP=29;
var IO_ON=94;
var IO_OFF=95;
function ptz_control(command) {
console.log(command);
var url = getHttpHost("decoder_control.cgi");
url+='&command='+command;
url+='&onestep=0';
url+='&' + new Date().getTime() + Math.random();
$.get(url);
}

$(function() {
$("#left").mousedown(function() {ptz_control(PTZ_LEFT);});
$("#left").mouseup(function() {ptz_control(PTZ_LEFT_STOP);});
$("#right").mousedown(function() {ptz_control(PTZ_RIGHT);});
$("#right").mouseup(function() {ptz_control(PTZ_RIGHT_STOP);});
$("#up").mousedown(function() {ptz_control(PTZ_UP);});
$("#up").mouseup(function() {ptz_control(PTZ_UP_STOP);});
$("#down").mousedown(function() {ptz_control(PTZ_DOWN);});
$("#down").mouseup(function() {ptz_control(PTZ_DOWN_STOP);});
});

function body_onload() {
    video.PlayVideo("admin", "123456", "192.168.1.252", 81,3,0);
    video.OpenSound();
    //video.StartTalk();
}
function body_onunload() {
    video.CloseSound();
    video.StopVideo();
    //video.StopTalk();
    
}
</script>
</html>